(this["webpackJsonpimage-cropping-in-react"]=this["webpackJsonpimage-cropping-in-react"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),l=a.n(o),i=(a(14),a(1)),c=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.a.createElement("path",{d:"M 13 2 C 11.355469 2 10 3.355469 10 5 L 10 16.8125 L 9.34375 16.125 L 9.09375 15.90625 C 7.941406 14.753906 6.058594 14.753906 4.90625 15.90625 C 3.753906 17.058594 3.753906 18.941406 4.90625 20.09375 L 4.90625 20.125 L 13.09375 28.21875 L 13.15625 28.25 L 13.1875 28.3125 C 14.535156 29.324219 16.253906 30 18.1875 30 L 19.90625 30 C 24.441406 30 28.09375 26.347656 28.09375 21.8125 L 28.09375 14 C 28.09375 12.355469 26.738281 11 25.09375 11 C 24.667969 11 24.273438 11.117188 23.90625 11.28125 C 23.578125 9.980469 22.394531 9 21 9 C 20.234375 9 19.53125 9.300781 19 9.78125 C 18.46875 9.300781 17.765625 9 17 9 C 16.648438 9 16.316406 9.074219 16 9.1875 L 16 5 C 16 3.355469 14.644531 2 13 2 Z M 13 4 C 13.554688 4 14 4.445313 14 5 L 14 16 L 16 16 L 16 12 C 16 11.445313 16.445313 11 17 11 C 17.554688 11 18 11.445313 18 12 L 18 16 L 20 16 L 20 12 C 20 11.445313 20.445313 11 21 11 C 21.554688 11 22 11.445313 22 12 L 22 16 L 24.09375 16 L 24.09375 14 C 24.09375 13.445313 24.539063 13 25.09375 13 C 25.648438 13 26.09375 13.445313 26.09375 14 L 26.09375 21.8125 C 26.09375 25.277344 23.371094 28 19.90625 28 L 18.1875 28 C 16.722656 28 15.457031 27.476563 14.40625 26.6875 L 6.3125 18.6875 C 5.867188 18.242188 5.867188 17.757813 6.3125 17.3125 C 6.757813 16.867188 7.242188 16.867188 7.6875 17.3125 L 12 21.625 L 12 5 C 12 4.445313 12.445313 4 13 4 Z"})),s=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.a.createElement("path",{d:"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"})),m=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.a.createElement("path",{d:"M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z"})),p=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.a.createElement("path",{d:"M 15 4 L 15 20.5625 L 9.71875 15.28125 L 8.28125 16.71875 L 15.28125 23.71875 L 16 24.40625 L 16.71875 23.71875 L 23.71875 16.71875 L 22.28125 15.28125 L 17 20.5625 L 17 4 Z M 7 26 L 7 28 L 25 28 L 25 26 Z"})),u=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.a.createElement("path",{d:"M 6 3 L 6 29 L 26 29 L 26 9.59375 L 25.71875 9.28125 L 19.71875 3.28125 L 19.40625 3 Z M 8 5 L 18 5 L 18 11 L 24 11 L 24 27 L 8 27 Z M 20 6.4375 L 22.5625 9 L 20 9 Z M 11 13 L 11 15 L 21 15 L 21 13 Z M 11 17 L 11 19 L 21 19 L 21 17 Z M 11 21 L 11 23 L 21 23 L 21 21 Z"})),g=(a(15),a(4)),L=a(5),h=a(8),d=a(7),f=(a(16),a(6)),C=a.n(f);a(17);var v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).setImageRef=function(e){return n.imageRef=e},n.handleOnImageLoaded=function(e){return n.setImageRef(e),n.imageRef.style.maxHeight=n.cropContainer.current.getBoundingClientRect().height+"px",n.setState({crop:{height:e.height-20,width:e.width-20,unit:"px",x:10,y:10}}),!1},n.handleOnImageError=function(e){console.log("could not load the image")},n.handleOnCropChange=function(e){n.setState({crop:e})},n.handleOnCropComplete=function(e,t){n.setState({crop:e})},n.handleCropApproval=function(){var e=n.props.canvasRef;e&&e.current?(!function(e,t,a){var n=e,r=t.naturalWidth/t.width,o=t.naturalHeight/t.height;n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(t,a.x*r,a.y*o,a.width*r,a.height*o,0,0,a.width,a.height)}(e.current,n.imageRef,n.state.crop),n.props.onCropResult(!0)):n.props.onCropResult(!1),n.handleExit()},n.handleExit=function(){n.props.onExit()},n.imageRef=null,n.cropContainer=r.a.createRef(null),n.state={imgSrc:null,crop:{unit:"px"}},n}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.imageSrc,a=new FileReader;a.addEventListener("load",(function(){e.setState({imgSrc:a.result})}),!1),a.readAsDataURL(t)}},{key:"render",value:function(){return r.a.createElement("main",{className:"image-modal"},r.a.createElement("div",{className:"image-crop-bx"},r.a.createElement("div",{className:"modal-toolbar"},r.a.createElement("span",{onClick:this.handleExit},s),r.a.createElement("span",{onClick:this.handleCropApproval},m)),r.a.createElement("div",{className:"modal-crop-bx",ref:this.cropContainer},r.a.createElement(C.a,{src:this.state.imgSrc,crop:this.state.crop,onImageLoaded:this.handleOnImageLoaded,onImageError:this.handleOnImageError,onChange:this.handleOnCropChange,onComplete:this.handleOnCropComplete}))))}}]),a}(r.a.Component),w=function(){var e=r.a.useRef(null),t=r.a.useState(null),a=Object(i.a)(t,2),n=a[0],o=a[1],l=r.a.useState({name:null,type:null}),s=Object(i.a)(l,2),m=s[0],g=s[1],L=r.a.useState(!1),h=Object(i.a)(L,2),d=h[0],f=h[1],C=r.a.createElement("div",{className:"upload-bx"},r.a.createElement("input",{type:"file",onInput:function(e){console.log(e.target.files);var t=e.target.files[0],a=t.name,n=t.type,r=e.target.files?e.target.files[0]:e.target.value||void 0;r&&r.type&&(["image/jpg","image/gif","image/png","image/jpeg"].indexOf(r.type)<0?alert("Only Images Supported!"):(o(e.target.files[0]),g({name:a.replace(" ","_"),type:n})))},accept:"image/gif, image/jpeg, image/png, image/jpg"}),r.a.createElement("span",null,c),r.a.createElement("span",null,"Upload")),w=r.a.createElement("div",null,r.a.createElement("canvas",{ref:e})),E=r.a.createElement(v,{imageSrc:n,canvasRef:e,onExit:function(){o(null)},onCropResult:function(e){f(e)}});return r.a.createElement("div",{className:"App"},d?r.a.createElement(r.a.Fragment,null):n?E:C,r.a.createElement("div",{className:"result-bx ".concat(d?"show":"")},w,r.a.createElement("div",{className:"crop-util"},r.a.createElement("button",{onClick:function(){f(!1),g({name:null,type:null})}},"clear"),r.a.createElement("span",{onClick:function(){m&&m.name&&m.type&&function(e,t){var a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e.current.toDataURL(m.type),"".concat(m.name,".").concat(m.type.split("/")[1]))}},p),r.a.createElement("span",{onClick:function(){if(m&&m.name&&m.type){var t=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),o=r.length,l=new Uint8Array(o);o--;)l[o]=r.charCodeAt(o);return new File([l],t,{type:n})}(e.current.toDataURL(m.type),"".concat(m.name,".").concat(m.type.split("/")[1]));console.log(t)}}},u))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.86f8926d.chunk.js.map